<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5Î¿ Î“Î•Î› Î‘Î³ÏÎ¹Î½Î¯Î¿Ï…</title>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #3f51b5; --magenta: #e91e63; --purple: #9c27b0; --yt-red: #FF0000; --bg: #f4f7f6; }
        body { font-family: 'Open Sans', sans-serif; margin: 0; background: var(--bg); color: #333; scroll-behavior: smooth; }
        header { background: white; padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
        .logo-area { display: flex; align-items: center; gap: 12px; }
        .logo-area img { height: 60px; }
        nav { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; }
        nav a { text-decoration: none; color: var(--blue); font-weight: bold; font-size: 0.8rem; transition: 0.3s; }
        nav a:hover { color: var(--magenta); }
        .lang-btn { background: var(--magenta); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-weight: bold; }
        .hero { background: linear-gradient(135deg, var(--blue), var(--purple)); color: white; text-align: center; padding: 40px 20px; }
        .container { max-width: 1300px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 7.5fr 2.5fr; gap: 40px; }
        .section-card { background: white; border-radius: 12px; padding: 30px; margin-bottom: 30px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        h2 { font-family: 'Comfortaa'; color: var(--blue); border-left: 5px solid var(--magenta); padding-left: 15px; margin-bottom: 20px; }
        .school-gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
        .school-gallery img { width: 100%; height: 140px; object-fit: cover; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 20px; margin-top: 20px; }
        .item-card { border: 1px solid #eee; border-radius: 12px; overflow: hidden; background: white; transition: 0.3s; }
        .item-card img { width: 100%; height: 160px; object-fit: cover; cursor: pointer; }
        .date-badge { font-size: 0.75rem; color: #777; font-weight: bold; margin-bottom: 5px; display: block; text-transform: uppercase; }
        .schedule-btn { display: inline-block; margin-top: 15px; background: var(--blue); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: bold; transition: 0.3s; }
        .schedule-btn:hover { background: var(--magenta); transform: translateY(-2px); }
        .social-links { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .social-links a { padding: 10px 18px; border-radius: 5px; color: white; text-decoration: none; font-weight: bold; font-size: 0.85rem; transition: 0.3s; }
        .social-links a:hover { opacity: 0.85; transform: translateY(-2px); }
        #lightbox { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); justify-content: center; align-items: center; }
        #lightbox img { max-width: 90%; max-height: 80%; border: 3px solid white; }
        @media (max-width: 1000px) { .container { grid-template-columns: 1fr; } .school-gallery { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>

<header>
    <div class="logo-area">
        <img src="5_HS_Agrinio_small.png" alt="Logo">
        <span id="site-title" style="font-family:'Comfortaa'; font-weight:bold; color:var(--blue);">5Î¿ Î“Î•Î› Î‘Î³ÏÎ¹Î½Î¯Î¿Ï…</span>
    </div>
    <nav id="main-nav"></nav>
    <button class="lang-btn" onclick="toggleLang()">EN</button>
</header>

<section class="hero"><h1 id="hero-title"></h1></section>

<div class="container">
    <main>
        <section id="home" class="section-card">
            <h2 id="dir-title"></h2>
            <p id="dir-msg" style="white-space: pre-line; font-style: italic;"></p>
        </section>
        
        <section id="school" class="section-card">
            <h2 id="sch-title"></h2>
            <div class="school-gallery">
                <img src="school1.jpg" onclick="openLightbox(this.src)"><img src="school2.jpg" onclick="openLightbox(this.src)">
                <img src="school3.jpg" onclick="openLightbox(this.src)"><img src="school4.jpg" onclick="openLightbox(this.src)">
                <img src="school5.jpg" onclick="openLightbox(this.src)"><img src="school6.jpg" onclick="openLightbox(this.src)">
            </div>
            <p id="sch-text" style="line-height: 1.6;"></p>
            <a href="https://drive.google.com/file/d/1PnjvnAjdiVgyTsCaBQiECdF14dt53QmM/view?usp=sharing" target="_blank" class="schedule-btn" id="sch-link"></a>
        </section>

        <section id="erasmus" class="section-card"><h2 id="era-title"></h2><div id="data-erasmus" class="grid"></div></section>
        <section id="awards" class="section-card"><h2 id="awa-title"></h2><div id="data-awards" class="grid"></div></section>
        <section id="actions" class="section-card"><h2 id="act-title"></h2><div id="data-actions" class="grid"></div></section>
        
        <section id="contact" class="section-card">
            <h2 id="con-title"></h2>
            <div id="contact-details"></div>
            <div class="social-links">
                <a href="https://www.facebook.com/5HighSchoolAgrinioGR/" target="_blank" style="background:#3b5998;">Facebook</a>
                <a href="https://www.instagram.com/5lykagrin/" target="_blank" style="background:#e4405f;">Instagram</a>
                <a href="https://www.youtube.com/@5-5highschoolofagrinio90" target="_blank" style="background:var(--yt-red);">YouTube</a>
            </div>
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1051.1214440198178!2d21.389902022941865!3d38.62345737702997!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x135e8a0806350d07%3A0xed6d673146490a56!2zNc6_IM6TzrXOvc65zrrPjCDOm8-NzrrOtc65zr8gzpHOs8-BzrnOvc6vzr_PhQ!5e1!3m2!1sel!2sgr!4v1770908331897!5m2!1sel!2sgr" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>
    </main>

    <aside>
        <div class="section-card">
            <h2 id="news-title" style="font-size: 1.1rem;"></h2>
            <div id="data-news"></div>
            <hr>
            <div class="fb-page" data-href="https://www.facebook.com/5HighSchoolAgrinioGR/" data-tabs="timeline" data-width="340" data-small-header="true" data-adapt-container-width="true"></div>
        </div>
    </aside>
</div>

<div id="lightbox" onclick="this.style.display='none'"><img id="lightbox-img"></div>

<script async defer crossorigin="anonymous" src="https://connect.facebook.net/el_GR/sdk.js#xfbml=1&version=v18.0"></script>

<script>
    let currentLang = 'el';
    const SHEET_ID = "1Vxg1fb6tf1xxmJsFe-UgHvxqe9p3cJGEoshYKieCPLM";
    const GIDS = { erasmus: '0', awards: '814179730', actions: '501557146', news: '936502549' };

    const ui = {
        el: {
            title: "5Î¿ Î“Î•Î› Î‘Î³ÏÎ¹Î½Î¯Î¿Ï…", hero: "5Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î‘Î³ÏÎ¹Î½Î¯Î¿Ï…", dir: "Î§Î±Î¹ÏÎµÏ„Î¹ÏƒÎ¼ÏŒÏ‚ Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®", sch: "Î¤Î¿ Î£Ï‡Î¿Î»ÎµÎ¯Î¿", 
            era: "Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î± Erasmus+", awa: "Î”Î¹Î±ÎºÏÎ¯ÏƒÎµÎ¹Ï‚", act: "Î”ÏÎ¬ÏƒÎµÎ¹Ï‚", con: "Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±", news: "Î‘Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚ / ÎÎ­Î±",
            schText: "Î¤Î¿ 5Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î‘Î³ÏÎ¹Î½Î¯Î¿Ï… Ï€ÏÎ¿ÏƒÏ†Î­ÏÎµÎ¹ Î­Î½Î± ÏƒÏÎ³Ï‡ÏÎ¿Î½Î¿ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½ Î¼Î¬Î¸Î·ÏƒÎ·Ï‚, ÎµÏƒÏ„Î¹Î¬Î¶Î¿Î½Ï„Î±Ï‚ ÏƒÏ„Î·Î½ Î±ÎºÎ±Î´Î·Î¼Î±ÏŠÎºÎ® Î±Î½Î¬Ï€Ï„Ï…Î¾Î· ÎºÎ±Î¹ Ï„Î·Î½ ÎºÎ±Î»Î»Î¹Î­ÏÎ³ÎµÎ¹Î± Î±Î¾Î¹ÏÎ½ Ï„Ï‰Î½ Î¼Î±Î¸Î·Ï„ÏÎ½ Î¼Î±Ï‚.",
            schLink: "Î©ÏÎ¿Î»ÏŒÎ³Î¹Î¿ Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±",
            dirMsg: "Î¦Î¯Î»Îµ ÎµÏ€Î¹ÏƒÎºÎ­Ï€Ï„Î·,\n\nÎšÎ±Î»ÏÏ‚ Î®Î»Î¸ÎµÏ‚ ÏƒÏ„Î¿Î½ Î¹ÏƒÏ„Î¿Ï‡ÏÏÎ¿ Ï„Î¿Ï… Î£Ï‡Î¿Î»ÎµÎ¯Î¿Ï… Î¼Î±Ï‚...\n\nÎŸ Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®Ï‚: Î”Ï. Î¦ÏÏ„Î·Ï‚ Î›Î±Î¶Î±ÏÎ¯Î½Î·Ï‚",
            contact: `<p>ğŸ“ Î•Î¸Î½Î¹ÎºÏŒ Î£Ï„Î¬Î´Î¹Î¿, Î‘Î³ÏÎ¯Î½Î¹Î¿ 30100</p><p>ğŸ“ <a href="tel:+302641048020">+30 26410 48020</a></p><p>ğŸ“§ <a href="mailto:5LykAgrinio@sch.gr">5LykAgrinio@sch.gr</a></p>`
        },
        en: {
            title: "5th Lyceum Agrinio", hero: "5th General Senior High School of Agrinio", dir: "Principal's Welcome", sch: "The School", 
            era: "Erasmus+ Programs", awa: "Awards", act: "Actions", con: "Contact", news: "Latest News",
            schText: "The 5th General High School of Agrinio provides a modern learning environment, focusing on the academic progress and the cultivation of values in our students.",
            schLink: "School Schedule",
            dirMsg: "Dear visitor,\n\nWelcome to our school's official website...\n\nPrincipal: Dr. Fotis Lazarinis",
            contact: `<p>ğŸ“ National Stadium, Agrinio 30100</p><p>ğŸ“ <a href="tel:+302641048020">+30 26410 48020</a></p><p>ğŸ“§ <a href="mailto:5LykAgrinio@sch.gr">5LykAgrinio@sch.gr</a></p>`
        }
    };

    function toggleLang() {
        currentLang = currentLang === 'el' ? 'en' : 'el';
        document.querySelector('.lang-btn').textContent = currentLang === 'el' ? 'EN' : 'EL';
        renderUI();
    }

    function renderUI() {
        const langData = ui[currentLang];
        document.getElementById('site-title').textContent = langData.title;
        document.getElementById('hero-title').textContent = langData.hero;
        document.getElementById('dir-title').textContent = langData.dir;
        document.getElementById('dir-msg').textContent = langData.dirMsg;
        document.getElementById('sch-title').textContent = langData.sch;
        document.getElementById('sch-text').textContent = langData.schText;
        document.getElementById('sch-link').textContent = langData.schLink;
        document.getElementById('era-title').textContent = langData.era;
        document.getElementById('awa-title').textContent = langData.awa;
        document.getElementById('act-title').textContent = langData.act;
        document.getElementById('con-title').textContent = langData.con;
        document.getElementById('news-title').textContent = langData.news;
        document.getElementById('contact-details').innerHTML = langData.contact;
        
        const navItems = [
            {id: 'home', el: 'Î‘ÏÏ‡Î¹ÎºÎ®', en: 'Home'}, {id: 'school', el: 'Î£Ï‡Î¿Î»ÎµÎ¯Î¿', en: 'School'},
            {id: 'erasmus', el: 'Erasmus+', en: 'Erasmus+'}, {id: 'awards', el: 'Î”Î¹Î±ÎºÏÎ¯ÏƒÎµÎ¹Ï‚', en: 'Awards'},
            {id: 'actions', el: 'Î”ÏÎ¬ÏƒÎµÎ¹Ï‚', en: 'Actions'}, {id: 'contact', el: 'Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±', en: 'Contact'}
        ];
        document.getElementById('main-nav').innerHTML = navItems.map(item => `<a href="#${item.id}">${item[currentLang]}</a>`).join('');
        loadAllData();
    }

    async function loadAllData() {
        // Erasmus (7 ÏƒÏ„Î®Î»ÎµÏ‚)
        fetchSheet(GIDS.erasmus, 'data-erasmus', c => `
            <div class="item-card"><img src="${c[6]}" onclick="openLightbox(this.src)"><div style="padding:15px;"><h3 style="margin:0; color:var(--blue);">${currentLang === 'el' ? c[0] : c[1]}</h3><p><b>${c[2]}</b></p><p style="font-size:0.85rem;">${currentLang === 'el' ? c[3] : c[4]}</p><a href="${c[5]}" target="_blank" style="color:var(--magenta); font-weight:bold; text-decoration:none;">Website</a></div></div>`);

        // Awards & Actions (8 ÏƒÏ„Î®Î»ÎµÏ‚: Date_EL, Date_EN, Title_EL, Title_EN, Desc_EL, Desc_EN, Link, Photo)
        const stdTemplate = c => `
            <div class="item-card">
                <img src="${c[7]}" onclick="openLightbox(this.src)">
                <div style="padding:15px;">
                    <span class="date-badge">${currentLang === 'el' ? c[0] : c[1]}</span>
                    <h3 style="margin:0; color:var(--blue);">${currentLang === 'el' ? c[2] : c[3]}</h3>
                    <p style="font-size:0.85rem;">${currentLang === 'el' ? c[4] : c[5]}</p>
                    <a href="${c[6]}" target="_blank" style="color:var(--magenta); font-weight:bold; text-decoration:none;">Link</a>
                </div>
            </div>`;
        
        fetchSheet(GIDS.awards, 'data-awards', stdTemplate);
        fetchSheet(GIDS.actions, 'data-actions', stdTemplate);

        // News (8 ÏƒÏ„Î®Î»ÎµÏ‚: Date_EL, Date_EN, Title_EL, Title_EN, Desc_EL, Desc_EN, Link, Attach)
        fetchSheet(GIDS.news, 'data-news', c => `
            <div style="background:#fff; border-left:4px solid var(--magenta); padding:15px; margin-bottom:15px; border-radius:5px; box-shadow:0 2px 5px rgba(0,0,0,0.05);">
                <span class="date-badge">${currentLang === 'el' ? c[0] : c[1]}</span>
                <h4 style="margin:0; color:var(--blue);">${currentLang === 'el' ? c[2] : c[3]}</h4>
                <p style="font-size:0.85rem; margin:10px 0;">${currentLang === 'el' ? c[4] : c[5]}</p>
                <a href="${c[6]}" target="_blank" style="font-size:0.8rem; font-weight:bold; color:var(--magenta); text-decoration:none;">ğŸ”— Link</a>
                ${c[7] ? ` | <a href="${c[7]}" target="_blank" style="font-size:0.8rem; font-weight:bold; color:var(--purple); text-decoration:none;">ğŸ“ Î‘ÏÏ‡ÎµÎ¯Î¿</a>` : ''}
            </div>`);
    }

    async function fetchSheet(gid, id, template) {
        try {
            const res = await fetch(`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:csv&gid=${gid}`);
            const data = await res.text();
            const rows = data.split('\n').slice(1);
            document.getElementById(id).innerHTML = rows.map(row => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(s => s.trim().replace(/^"|"$/g, ''));
                return cols.length < 4 ? "" : template(cols);
            }).join('');
        } catch (e) { console.error("Error fetching sheet: " + id); }
    }

    function openLightbox(src) { document.getElementById('lightbox-img').src = src; document.getElementById('lightbox').style.display = 'flex'; }
    renderUI();
</script>
</body>
</html>
